<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Page</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>
<body>
    <header>
        <h1>üõçÔ∏è Shop</h1>
        <nav>
            <span class="user-display" id="userDisplay">Guest</span>
            <button onclick="openLoginModal()">Login</button>
            <button onclick="openRegisterModal()">Register</button>
            <button onclick="openCart()">Cart <span class="cart-count" id="cartCount">0</span></button>
            <button onclick="logout()" style="display:none;" id="logoutBtn">Logout</button>
        </nav>
    </header>

    <div class="container">
        <button onclick="openAddProductModal()" id="adminBtn" style="display:none; margin-bottom: 1rem;">+ Add Product</button>
        <div class="products" id="products"></div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <h2>Login</h2>
            <input type="email" id="loginEmail" placeholder="Email">
            <input type="password" id="loginPassword" placeholder="Password">
            <button onclick="login()">Login</button>
            <button onclick="closeModal('loginModal')" class="btn-secondary">Close</button>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <h2>Register</h2>
            <input type="text" id="regName" placeholder="Full Name">
            <input type="email" id="regEmail" placeholder="Email">
            <input type="password" id="regPassword" placeholder="Password">
            <input type="text" id="regPhone" placeholder="Phone Number">
            <textarea id="regAddress" placeholder="Address"></textarea>
            <button onclick="register()">Register</button>
            <button onclick="closeModal('registerModal')" class="btn-secondary">Close</button>
        </div>
    </div>

    <!-- Add Product Modal (Admin) -->
    <div class="modal" id="addProductModal">
        <div class="modal-content">
            <h2>Add Product</h2>
            <input type="text" id="productName" placeholder="Product Name">
            <input type="number" id="productPrice" placeholder="Price">
            <input type="file" id="productImage" accept="image/*" style="margin: 0.5rem 0;">
            <textarea id="productDesc" placeholder="Description"></textarea>
            <input type="url" id="sellerContact" placeholder="Seller Contact Link (e.g., discord.com/invite/yourlink)">
            <button onclick="addProduct()">Add Product</button>
            <button onclick="closeModal('addProductModal')" class="btn-secondary">Close</button>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <h2>Shopping Cart</h2>
            <div id="cartItems"></div>
            <h3>Total: $<span id="cartTotal">0</span></h3>
            <button onclick="checkout()">Checkout</button>
            <button onclick="closeModal('cartModal')" class="btn-secondary">Close</button>
        </div>
    </div>

</body>
</html>